/* ===== LAYOUTS ===== */

/* Top Stories Grid - Responsive Columns */
.top-stories {
    display: grid;
    grid-template-columns: repeat(12, minmax(0, 1fr));
    gap: var(--card-gap);
    grid-auto-flow: row dense;
    margin-bottom: 3rem;
}

.top-stories article.story-card {
    grid-column: span 4;
    min-height: var(--card-min-height);
    display: flex;
    flex-direction: column;
    height: 100%;
}

.top-stories .story-wrapper {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.top-stories .story-image {
    width: 100%;
    aspect-ratio: 16/9;
    object-fit: cover;
    background-color: var(--color-border);
}

.top-stories .story-content {
    padding: var(--card-padding);
    flex: 1;
    display: flex;
    flex-direction: column;
    min-width: 0; /* Prevent flex overflow */
}

.top-stories .source-badge {
    display: inline-block;
    font-size: 0.75rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    color: var(--color-accent);
    margin-bottom: 0.75rem;
}

.source-badge.technology { color: #00d4ff; }
.source-badge.world { color: #ef4444; }
.source-badge.finance { color: #10b981; }
.source-badge.science { color: #8b5cf6; }
.source-badge.entertainment { color: #f472b6; }
.source-badge.sports { color: #f59e0b; }

.top-stories .story-title {
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 0.75rem;
    line-height: 1.4;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.top-stories .story-title a {
    background: linear-gradient(to right, var(--color-accent), var(--color-accent)) 0 100% / 0 2px no-repeat;
    transition: background-size 0.3s;
}

.top-stories .story-title a:hover {
    background-size: 100% 2px;
}

.top-stories .story-summary {
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--color-muted);
    margin-bottom: 1rem;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.top-stories .story-meta {
    font-size: 0.8rem;
    color: var(--color-muted);
    margin-top: auto;
    padding-top: 1rem;
    border-top: 1px solid var(--color-border);
}

/* Featured story (first item) */
.top-stories article.story-card.featured {
    grid-column: span 8;
    grid-row: span 2;
}

.top-stories article.story-card.featured .story-content {
    padding: 2rem; /* More padding for featured */
}

.top-stories article.story-card.featured .story-title {
    font-size: 1.6rem; /* Larger title for featured */
}

/* Grid Layouts */
.stories-grid { /* For category sections */
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: var(--card-gap);
    grid-auto-flow: row dense;
}

body.view-list .top-stories,
body.view-list .stories-grid {
    grid-template-columns: 1fr;
}

body.view-list .top-stories article.story-card.featured {
    grid-column: auto;
    grid-row: auto;
}

.stories-grid article.story-card {
    min-height: var(--card-min-height);
    height: 100%;
    display: flex;
    flex-direction: column;
    padding: var(--card-padding);
}

.stories-grid .story-image {
    width: 100%;
    aspect-ratio: 16/9;
    object-fit: cover;
    background-color: var(--color-border);
}

.stories-grid .story-wrapper {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.stories-grid .story-content {
    padding: var(--card-padding);
}

.stories-grid .story-title {
    font-size: 1.1rem; /* Slightly smaller title */
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.stories-grid .story-summary {
    font-size: 0.9rem; /* Smaller description */
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.stories-grid .story-meta {
    font-size: 0.75rem; /* Smaller meta info */
    padding-top: 0.75rem;
}

/* Responsive adjustments */
@media (max-width: 1200px) {
    .top-stories {
        grid-template-columns: repeat(12, minmax(0, 1fr));
    }
    .top-stories article.story-card {
        grid-column: span 6;
    }
    .top-stories article.story-card.featured {
        grid-column: span 12;
        grid-row: span 1;
    }
    .stories-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

@media (max-width: 900px) {
    .top-stories {
        grid-template-columns: repeat(12, minmax(0, 1fr));
    }
    .top-stories article.story-card {
        grid-column: span 12;
    }
    .stories-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}

@media (max-width: 768px) {
    .top-stories, .stories-grid {
        grid-template-columns: repeat(12, minmax(0, 1fr)) !important;
    }
    .top-stories article.story-card,
    .stories-grid article.story-card {
        grid-column: span 12;
    }
    .headline-xl {
        font-size: 2.5rem;
    }
}
